<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Checkout - Apna Interiors</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon/favicon-apna.ico" rel="icon">
  <link href="assets/img/favicon/favicon-apna.ico" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <!--   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
    integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous"> -->
  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!--   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"> -->

</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top">
    <div class="container d-flex align-items-center justify-content-between">

      <a href="index.html"><img src="assets/img/logo/apna_logo_1.png" alt="logo" style="height: 36px; "></a>

      <nav id="navbar" class="navbar">
        <ul>
          <li><a class="nav-link" href="./index.html">Home</a></li>
          <li><a class="nav-link" href="./index.html#pricing">Pricing</a></li>
          <li><a class="nav-link scrollto " href="./faqs.html">FAQs</a></li>


          <li><a class="getstarted scrollto" href="tel:+919989402743">Call Us</a></li>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->

    </div>
  </header><!-- End Header -->


  <main id="main" style="margin-top: 1rem;">
    <!-- ======= Departments Section ======= -->
    <section id="departments" class="departments">
      <div class="container" data-aos="fade-up">

        <div class="section-title">
          <h3 style="margin-top: 4rem; margin-bottom: 4rem; font-weight:bold;">Please enter your details to proceed.</h3>
          <h1 id="planname" style="font-size: 2rem; color:#247881; margin-bottom: 10px; ">Plan Selected</h1>
          <!-- <p style="margin-bottom: 1rem;">Feel free to customize the services as your need. <br> You can add or remove by clicking on any service below.</p> -->
        </div>

        <div class="flex flex-col md:flex-row shadow-lg p-4 mb-5">
          <div class="illustration !w-full sm:!w-1/2">
            <img src="assets/img/checkout.webp" class="" alt="checkout">
          </div>
          <div class="form-group space-y-2 ">
            <div class="form-group mt-5 flex sm:space-x-2 space-y-2 sm:space-y-0 flex-col sm:flex-row">
              <div class="form__group field !w-full sm:!w-1/2">
                <input type="text" class="form__field " placeholder="Full Name" name="name" id='name' required />
                <label for="name" class="form__label">Full Name</label>
              </div>
              <div class="form__group field !w-full sm:!w-1/2">
                <input type="tel" class="form__field" placeholder="Phone Number" name="number" id='number' required />
                <label for="number" class="form__label">Phone Number</label>
              </div>

            </div>
            <div class="form__group field !w-full">
              <input type="email" class="form__field" placeholder="Email" name="name" id='email' required />
              <label for="name" class="form__label">Email</label>
            </div>


            <select class="w-full bg-white outline-none border-b border-[#9b9b9b] py-2 !mt-4 te" onchange="getPrice(this.value);" id="property">
              <!-- <option>Select property type</option> -->


              <option value="2BHK">2BHK</option>

              <option value="3BHK">3BHK</option>
              <option value="Duplex">Duplex</option>
              <option value="Villa">Villa</option>


            </select>
            <div class="form__group field !w-full">
              <input type="input" class="form__field" placeholder="Add a message" name="more" id='more' />
              <label for="more" class="form__label">Add a message</label>
            </div>
            <div class="flex items-baseline justify-between">
              <!-- <div class="g-recaptcha" id="recaptcha" data-sitekey="your_site_key"></div> -->
              <br />
              <!-- <input type="submit" value="Submit"> -->
              <h3 id="pricefield" style="font-weight: 600; text-transform: uppercase; font-family: Open Sans;">Price: -</h3>

              <button onclick="showPrice('price');" id="cal-btn" class="btn-get-customize" style="display: flex;">
                Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg></button>

            </div>
            <p id="error" class="text-red-500 text-center"></p>
          </div>
        </div>


        <div class="" id="price" style="display: none;" data-aos="zoom-in" data-aos-delay="500">
          <p class="text-gray-800 text-lg uppercase text-center mt-3"><strong>Amount Payable:</strong> <span
              id="amount-id">20000</span> /-</p>
          <div class="flex items-center justify-center space-x-2">
            <a id="pay-now" class="btn-get-customize flex">Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg></a>

          </div>

        </div>

        <!-- <form><script src="https://checkout.razorpay.com/v1/payment-button.js" data-payment_button_id="pl_JRPJ6lqDTD3cQk" async> </script> </form> -->

      </div>
    </section><!-- End Departments Section -->

  </main>

  <!-- ======= Footer ======= -->
  <footer id="footer">

    <div class="footer-top">
      <div class="container">
        <div class="row">

          <div class="col-lg-5 col-md-6 footer-contact">
            <a href="index.html"><img src="assets/img/logo/apna_logo_1.png" alt="logo"
                style="height: 30px; margin-bottom: 10px;"></a>
            <div class="social-links text-left text-md-left pt-3 pt-md-0">
              <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
              <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
              <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
            </div>
          </div>

          <div class="col-lg-4 col-md-4 footer-links">
            <h4>Quick Links</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html">Home</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="about-us.html">About us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="blog.html">Blog</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="contact-us.html">Contact us</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="privacy-policy.html">Privacy Policy</a></li>
            </ul>
          </div>

          <div class="col-lg-3 col-md-4 footer-links">
            <h4>&nbsp;</h4>
            <ul>
              <li><i class="bx bx-chevron-right"></i> <a href="vision-mission.html">Vision and Mission</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="index.html#pricing">Plans and Pricing</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="terms-conditions.html">Terms and Conditions</a></li>
              <li><i class="bx bx-chevron-right"></i> <a href="refund-cancellation.html">Refund and Cancellation</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <div class="footer-top">
      <div class="container">
        <div class="row" style="align-items:center;">
          <div class="col-lg-12 col-md-12" style="text-align: center;padding-top:10px;padding-bottom: 10px;">
            <div class="copyright">
              <hr><br>
              &copy; Copyright <strong><span>Apna Interiors</span></strong>. All Rights Reserved
            </div>
          </div>

  </footer><!-- End Footer -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i
      class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
    integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
    integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
    integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
    crossorigin="anonymous"></script>
  <script src="https://cdn.tailwindcss.com"></script>



  <script src="assets/js/main.js"></script>
  <script src="assets/js/getprice.js"></script>
    <script>
      let ele1 = "bp";
      let ele2 = "ms";
      let ele3 = "sk";
      let ele4 = "pd";
      let ele5 = "hw";
      let ele6 = "wlk";
      let ele7 = "ri";
      let ele8 = "pdm";
      let ele9 = "lam";
      let ele10 = "oss";
      let ele11 = "ds";
      let ele12 = "pc";
      let ele13 = "rv";
      let ele14 = "dd";
      let ele15 = "fs";
      let ele16 = "en";
      let ele17 = "ltc";
      let ele18 = "rcm";

      $(document).ready(function () {
      getPrice(document.getElementById("property").value);
        console.log(document.getElementById("property").value);
        let planEle = document.getElementById("planname")
      if (window.location.href.indexOf("planA") > -1) {
        planEle.innerText = "Plan Selected - BEST SELLING"
      }
      else if (window.location.href.indexOf("planB") > -1) {
        planEle.innerText = "Plan Selected - PREMIUM PACK"
      }
      else if (window.location.href.indexOf("planC") > -1) {
        planEle.innerText = "Plan Selected - ELITE PACK"
      }
      else{
        window.location = "/"
      }


    });
    function getPrice(propertyType){
      // alert("Function called." + propertyType)
      // priceOf()
      let eleArr = []
      let _from_url = 1
      if (window.location.href.indexOf("planA") > -1) {
        eleArr = [ele1, ele2, ele3, ele4, ele5, ele6]
        _from_url = 1
      }
      else if (window.location.href.indexOf("planB") > -1) {
        eleArr = [ele1, ele2, ele3, ele4, ele5, ele6, ele7, ele8, ele9, ele10, ele11, ele12, ele18]
        _from_url = 2
      }
      else if (window.location.href.indexOf("planC") > -1) {
        eleArr = [ele1, ele2, ele3, ele4, ele5, ele6, ele7, ele8, ele9, ele10, ele11, ele12, ele13, ele14, ele15, ele16, ele17, ele18]
        _from_url = 3
      }

      let final_price = priceOf(eleArr, _from_url, propertyType)
      let priceEle = document.getElementById("pricefield")
      priceEle.innerText = `Price: ₹${final_price}/-`
    }
    function showPrice(id) {
      mail();

    }
    function mail() {
      //let data = {"text": "barium"};

      document.getElementById("error").innerHTML = "";

      let cal_btn = document.getElementById("cal-btn");
      cal_btn.innerHTML = "<div class='spinner-border' role='status' style = 'height: 20px; width:20px;'> </div>"

      let name = document.getElementById("name").value;
      let number = document.getElementById("number").value;
      let email = document.getElementById("email").value;
      let message = document.getElementById("more").value;
      let property = document.getElementById("property").value;
      let _from_url = 1

      if (name.length < 4) {
        document.getElementById("error").innerHTML = "Name should be atleast 4 characters";
        cal_btn.innerHTML = `Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg>`
        return;
      }
      const numberExp = new RegExp('^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$');
      if (!numberExp.test(number)) {
        document.getElementById("error").innerHTML = "Invalid phone nunber";
        cal_btn.innerHTML = `Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg>`

        return;
      }
      const emailExp = new RegExp('[^@ \t\r\n]+@[^@ \t\r\n]+\.[^@ \t\r\n]+');
      if (!emailExp.test(email)) {
        document.getElementById("error").innerHTML = "Invalid Email";
        cal_btn.innerHTML = `Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg>`

        return;
      }
      if (property === 'Select property type') {
        document.getElementById("error").innerHTML = "Select property type";
        cal_btn.innerHTML = `Pay now <svg xmlns="http://www.w3.org/2000/svg"
                class="h-6 w-6 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round"
                  d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" />
              </svg>`

        return;
      }

      let ids = []
      // let arr = document.getElementsByClassName("btn-checkout");
      // if (arr.length == 0) {
      //   document.getElementById("error").innerHTML = "Select atlease one service";
      //   cal_btn.innerHTML = "Proceed"

      //   return;
      // }
      // const ids = [];
      // for (let i = 0; i < arr.length; i++) {
      //   ids.push(arr[i].id);
      // }
      // console.log(ids);

      // const url = "http://localhost:5000";

      // var xhr = new XMLHttpRequest();
      // xhr.open("POST", url, true);
      // xhr.setRequestHeader('Content-Type', 'application/json');
      // xhr.send(JSON.stringify({
      //     "email": "test@ha"
      // }));
      var myHeaders = new Headers();
      myHeaders.append("Content-Type", "application/json");
      if (window.location.href.indexOf("planA") > -1) {
        _from_url = 1;
        ids = [ele1, ele2, ele3, ele4, ele5, ele6]
      }
      else if (window.location.href.indexOf("planB") > -1) {
        _from_url = 2;
        ids = [ele1, ele2, ele3, ele4, ele5, ele6, ele7, ele8, ele9, ele10, ele11, ele12, ele18]
      }
      else if (window.location.href.indexOf("planC") > -1) {
        _from_url = 3;
        ids = [ele1, ele2, ele3, ele4, ele5, ele6, ele7, ele8, ele9, ele10, ele11, ele12, ele13, ele14, ele15, ele16, ele17, ele18]
      }
      else {
        _from_url = 1;
      }
      let raw = JSON.stringify({
        name,
        email,
        number,
        message,
        property,
        ids,
        _from_url
      })

      let requestOptions = {
        method: 'POST',
        headers: myHeaders,
        body: raw,
        redirect: 'follow'
      };
      
      console.log(requestOptions);

      // let result = "22000 xyz.com"

      fetch("https://apna-int.herokuapp.com/", requestOptions)
        .then(response => response.text())
        .then(result => {
          // console.log(result);
          const data = result.split(" ");

          var x = data[0];
          // x = x.toString();
          try {
            x = Math.trunc(x);
            x = x.toString();
            var lastThree = x.substring(x.length - 3);
            var otherNumbers = x.substring(0, x.length - 3);
            if (otherNumbers != '')
              lastThree = ',' + lastThree;
            var res = otherNumbers.replace(/\B(?=(\d{2})+(?!\d))/g, ",") + lastThree;
            // alert(res);

            document.getElementById("amount-id").innerText = "₹" + res;
            // document.getElementById("price").style.display = 'block';

            // document.getElementById("pay-now").href = data[1];
            // let cal_btn = document.getElementById("cal-btn");
            // cal_btn.innerHTML = "Proceed"
            window.location = data[1]

          } catch (error) {
            document.getElementById('error').innerHTML = "Technical Error. Please <a href='contact-us.html' style='color: '#247881';text-decoration: underline;'>Contact Us</a>";
            let cal_btn = document.getElementById("cal-btn");
            cal_btn.style.display = 'hidden'
          }
        })
        .catch(error => {
          document.getElementById('error').innerHTML = "Technical Error. Please <a href='contact-us.html' style='color: '#247881';text-decoration: underline;'>Contact Us</a>";
          let cal_btn = document.getElementById("cal-btn");
          cal_btn.style.display = 'none'
        });

        document.getElementById("subject").value='';

    }
    </script>
  <!-- <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
 async defer> -->
  </script>
</body>

</html>
